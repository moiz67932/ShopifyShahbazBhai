{% comment %}
  <div class="custom-banner">
    <div class="banner-text">
      <p class="sub-text">Luggage. Apparel. Adventure.</p>
      <h1 class="main-text">STAND OUT ON THE SCENIC ROUTE.</h1>
    </div>
    <div class="banner-buttons">
      <a href="#" class="button primary-button">Leather Jackets</a>
      <a href="#" class="button secondary-button">Travel Bags</a>
    </div>
  </div>

  <style>
      .custom-banner {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background-color: #e3e0d6; /* Light beige background */
      padding: 50px;
      position: relative;
    }

    .banner-text {
      margin-bottom: 20px;
    }

    .sub-text {
      font-size: 18px;
      color: #8d8d8d; /* Subtle grey */
      margin-bottom: 10px;
    }

    .main-text {
      font-size: 36px;
      font-weight: bold;
      color: #333; /* Dark text */
    }

    .banner-buttons {
      display: flex;
      gap: 20px;
    }

    .button {
      padding: 10px 20px;
      background-color: #996633; /* Brown */
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-weight: bold;
    }

    .button:hover {
      background-color: #775522;
    }

    /* Hide buttons by default */
    .primary-button, .secondary-button {
      display: none;
    }

    /* Show buttons only if text exists */
    .primary-button[data-visible="true"],
    .secondary-button[data-visible="true"] {
      display: inline-block;
    }
  </style>

  {% schema %}
  {
    "name": "Custom Banner",
    "settings": [],
    "blocks": [
      {
        "type": "main_text",
        "name": "Main Text",
        "settings": [
          {
            "type": "text",
            "id": "main_text",
            "label": "Main Text"
          }
        ]
      },
      {
        "type": "sub_text",
        "name": "Sub Text",
        "settings": [
          {
            "type": "text",
            "id": "sub_text",
            "label": "Sub Text"
          }
        ]
      },
      {
        "type": "primary_button",
        "name": "Primary Button",
        "settings": [
          {
            "type": "text",
            "id": "primary_button_text",
            "label": "Primary Button Text"
          }
        ]
      },
      {
        "type": "secondary_button",
        "name": "Secondary Button",
        "settings": [
          {
            "type": "text",
            "id": "secondary_button_text",
            "label": "Secondary Button Text"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Custom Banner",
        "category": "Banner"
      }
    ]
  }
  {% endschema %}

  <script>
      document.addEventListener("DOMContentLoaded", function () {
      const mainText = document.querySelector(".main-text");
      const subText = document.querySelector(".sub-text");
      const primaryButton = document.querySelector(".primary-button");
      const secondaryButton = document.querySelector(".secondary-button");

      // Control button visibility
      const primaryText = "{{ settings.primary_button_text }}";
      const secondaryText = "{{ settings.secondary_button_text }}";

      if (primaryText) {
        primaryButton.textContent = primaryText;
        primaryButton.setAttribute("data-visible", "true");
      }
      if (secondaryText) {
        secondaryButton.textContent = secondaryText;
        secondaryButton.setAttribute("data-visible", "true");
      }

      // Swap functionality
      const shouldSwap = "{{ settings.swap_text_positions }}" === "true";
      if (shouldSwap) {
        mainText.parentNode.insertBefore(mainText, subText);
      }
    });
  </script>
{% endcomment %}

{% for block in section.blocks %}
  {% if block.settings.banner_image
    or block.settings.heading_text
    or block.settings.sub_text
    or block.settings.primary_button_text
    or block.settings.secondary_button_text
  %}
    <div
      class="custom-banner"
      style="background-image: url('{{ block.settings.banner_image | image_url }}'); background-size: cover; background-position: center;"
    >
      <div class="text_container">
        <div class="banner-text">
          {% if block.settings.sub_text %}
            <p class="sub-text">
              {{ block.settings.sub_text }}
            </p>
          {% endif %}

          {% if block.settings.heading_text %}
            <h1 class="main-text">
              {{ block.settings.heading_text }}
            </h1>
          {% endif %}
        </div>

        <div class="banner-buttons">
          {% if block.settings.primary_button_text and block.settings.primary_button_text != '' %}
            <a href="#" class="">
              <button class="button primary-button">
                {{ block.settings.primary_button_text }}
              </button>
            </a>
          {% endif %}

          {% if block.settings.secondary_button_text and block.settings.secondary_button_text != '' %}
            <a href="#" class="">
              <button class="button secondary-button">
                {{ block.settings.secondary_button_text }}
              </button>
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  {% endif %}
{% endfor %}

<style>
  .text_container{
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    width:50vw;
  }
  .custom-banner {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 50px;
    position: relative;
    height: 500px;
    color: #fff; /* Default text color for visibility over images */
  }

  .banner-text {
  }

  .sub-text {
    font-size: 18px;
    color: #f8f8f8; /* Light grey */
  }

  .main-text {
    font-size: 50px;
    font-weight: bold;
    color: #fff;
  }

  .banner-buttons {
    display: flex;
    gap: 20px;
    width:100%;
    background-color:white;
  }

  .button {
    padding: 30px 20px;
    background-color: #996633;
    color: white;
    text-decoration: none;
    font-weight: bold;
    border-radius:0px;
  }

  .button:hover {
    background-color: #775522;
  }
</style>

{% schema %}
{
  "name": "Custom Banner",
  "settings": [],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "banner_image",
          "label": "Banner Image"
        },
        {
          "type": "text",
          "id": "heading_text",
          "label": "Main Text"
        },
        {
          "type": "text",
          "id": "sub_text",
          "label": "Sub Text"
        },
        {
          "type": "text",
          "id": "primary_button_text",
          "label": "Primary Button"
        },
        {
          "type": "text",
          "id": "secondary_button_text",
          "label": "Secondary Button"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Banner",
      "category": "Banner"
    }
  ]
}
{% endschema %}
