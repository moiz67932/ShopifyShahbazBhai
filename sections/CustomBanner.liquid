{% for block in section.blocks %}
  {% if block.settings.banner_image
    or block.settings.heading_text
    or block.settings.sub_text
    or block.settings.primary_button_text
    or block.settings.secondary_button_text
  %}
    <div
      class="custom-banner"
      style="background-image: url('{{ block.settings.banner_image | image_url }}'); background-size: cover; background-position: center;"
    >
      <div class="banner-text">
        {% if block.settings.sub_text %}
          <p class="sub-text">
            {{ block.settings.sub_text }}
          </p>
        {% endif %}

        {% if block.settings.heading_text %}
          <h1 class="main-text">
            {{ block.settings.heading_text }}
          </h1>
        {% endif %}
      </div>

      <div class="banner-buttons">
        {% if block.settings.primary_button_text %}
          <a
            href="#"
            class="button primary-button"
          >
            {{ block.settings.primary_button_text }}
          </a>
        {% endif %}

        {% if block.settings.secondary_button_text %}
          <a
            href="#"
            class="button secondary-button"
          >
            {{ block.settings.secondary_button_text }}
          </a>
        {% endif %}
      </div>
    </div>
  {% endif %}
{% endfor %}

<style>
  .custom-banner {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 50px;
    position: relative;
    height: 500px;
    color: #fff; /* Default text color for visibility over images */
  }

  .banner-text {
    margin-bottom: 20px;
  }

  .sub-text {
    font-size: 18px;
    color: #f8f8f8; /* Light grey */
    margin-bottom: 10px;
  }

  .main-text {
    font-size: 36px;
    font-weight: bold;
    color: #fff;
  }

  .banner-buttons {
    display: flex;
    gap: 20px;
  }

  .button {
    padding: 10px 20px;
    background-color: #996633;
    color: white;
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
  }

  .button:hover {
    background-color: #775522;
  }
</style>

{% schema %}
{
  "name": "Custom Banner",
  "settings": [],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "banner_image",
          "label": "Banner Image"
        },
        {
          "type": "text",
          "id": "heading_text",
          "label": "Main Text"
        },
        {
          "type": "text",
          "id": "sub_text",
          "label": "Sub Text"
        },
        {
          "type": "text",
          "id": "primary_button_text",
          "label": "Primary Button"
        },
        {
          "type": "text",
          "id": "secondary_button_text",
          "label": "Secondary Button"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Banner",
      "category": "Banner"
    }
  ]
}
{% endschema %}
